# API для платежной системы

REST фото менеджер

Реализован следующий функционал:
1) загружать фотографии авторизованным пользователям.

    1.1) при загрузке можно указывать различную метадату: гео локацию, описание, имена людей на фото.

2) отображать список фотографий, без мета данных.

    2.1) фильтровать фотографии по геолокации.
    
    2.2) фильтровать фотографии по дате.
    
    2.3) фильтровать фотографии по имени человека.

3) получать фотографию по айди с метаданными.

## Как запустить сайт

Проект докеризирован. Для запуска сайта воспользуйтесь командой:

```sh
docker-compose up 
```


В новом терминале, не выключая сайт создайте суперпользователя для доступа к админке:

```sh
docker-compose run django ./manage.py createsuperuser
```


### Переменные окружения

Часть настроек проекта берётся из переменных окружения. 
Чтобы их определить, создайте файл `.env` рядом с `manage.py` 
и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Используются следующие переменные окружения: 
- `DEBUG` — дебаг-режим. Поставьте True, чтобы увидеть отладочную информацию в случае ошибки.
- `SECRET_KEY` — секретный ключ проекта
- `ALLOWED_HOSTS` - адреса, на которых будет обслуживаться сайт
- `DATABASE_URL` - URL, в котором содержатся данные о БД, которые распарсятся с [помощью](https://github.com/jazzband/dj-database-url). В данном проекте используется `PostgreSQL`, развернут в докере.
- `IS_JWT_AUTH` - определяет какой-вид авторизации будет использован. Если True, то авторизация по JWT токену, если False, то по логину и паролю. По умолчанию False.  

Для всех переменных, установлены значения по умолчанию


## Документация по API

Апи автоматически замокано при помощи [библиотеки](https://drf-spectacular.readthedocs.io/en/latest/readme.html).
Для просмотра запросов API перейдите по [ссылке](http://0.0.0.0:8000/api/schema/swagger-ui/)
ДЛя просмотра спецификации по API перейдите по [ссылке](http://0.0.0.0:8000/api/schema/)
ДЛя просмотра документации по API перейдите по [ссылке](http://0.0.0.0:8000/api/schema/redoc/)


## Технологии
django, djangorestframework, docker, docker-compose